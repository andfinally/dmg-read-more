{"version":3,"file":"dmg-read-more/index.js","mappings":"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","sources":["webpack://dmg-read-more/./src/dmg-read-more/components/pagination.tsx","webpack://dmg-read-more/./src/dmg-read-more/components/read-more-posts.tsx","webpack://dmg-read-more/./src/dmg-read-more/components/read-more.tsx","webpack://dmg-read-more/./src/dmg-read-more/edit.js","webpack://dmg-read-more/./src/dmg-read-more/editor.scss","webpack://dmg-read-more/./src/dmg-read-more/index.js","webpack://dmg-read-more/./src/dmg-read-more/style.scss","webpack://dmg-read-more/external window [\"wp\",\"blockEditor\"]","webpack://dmg-read-more/external window [\"wp\",\"blocks\"]","webpack://dmg-read-more/external window [\"wp\",\"components\"]","webpack://dmg-read-more/external window [\"wp\",\"coreData\"]","webpack://dmg-read-more/external window [\"wp\",\"data\"]","webpack://dmg-read-more/external window [\"wp\",\"element\"]","webpack://dmg-read-more/external window \"ReactJSXRuntime\"","webpack://dmg-read-more/webpack/bootstrap","webpack://dmg-read-more/webpack/runtime/chunk loaded","webpack://dmg-read-more/webpack/runtime/compat get default export","webpack://dmg-read-more/webpack/runtime/define property getters","webpack://dmg-read-more/webpack/runtime/hasOwnProperty shorthand","webpack://dmg-read-more/webpack/runtime/make namespace object","webpack://dmg-read-more/webpack/runtime/jsonp chunk loading","webpack://dmg-read-more/webpack/before-startup","webpack://dmg-read-more/webpack/startup","webpack://dmg-read-more/webpack/after-startup"],"sourcesContent":["import { Button } from '@wordpress/components';\nimport { useCallback } from '@wordpress/element';\n\ntype PaginationProps = {\n\ttotalPages: number;\n\thandlePaginationClick: ( pageNumber: number ) => void;\n\tcurrentPage: number;\n};\n\nfunction getPagination( currentPage: number, total: number ) {\n\tconst delta = 1; // Number of pages to show around the current page.\n\tconst range = [];\n\tconst rangeWithDots = [];\n\tlet lastPageInRange: number;\n\n\t// Always show first and last page, and pages around the current page.\n\tfor ( let i = 1; i <= total; i++ ) {\n\t\tif (\n\t\t\ti === 1 ||\n\t\t\ti === total ||\n\t\t\t( i >= currentPage - delta && i <= currentPage + delta )\n\t\t) {\n\t\t\trange.push( i );\n\t\t}\n\t}\n\n\t// Insert ellipsis where page numbers are skipped.\n\tfor ( let i of range ) {\n\t\tif ( lastPageInRange ) {\n\t\t\tif ( i - lastPageInRange === 2 ) {\n\t\t\t\t// Only one page missing at end of range, so add one.\n\t\t\t\trangeWithDots.push( lastPageInRange + 1 );\n\t\t\t} else if ( i - lastPageInRange > 2 ) {\n\t\t\t\t// More than one missing, so add an ellipsis.\n\t\t\t\trangeWithDots.push( '...' );\n\t\t\t}\n\t\t}\n\t\trangeWithDots.push( i );\n\t\tlastPageInRange = i;\n\t}\n\n\treturn rangeWithDots;\n}\n\nexport default function Pagination( {\n\ttotalPages = 0,\n\thandlePaginationClick,\n\tcurrentPage = 1,\n}: PaginationProps ) {\n\tif ( totalPages <= 1 ) {\n\t\treturn null;\n\t}\n\n\tconst pages = getPagination( currentPage, totalPages );\n\n\tconst createHandlePaginationClick = useCallback(\n\t\t( page: number ) => () => handlePaginationClick( page ),\n\t\t[ handlePaginationClick ]\n\t);\n\n\treturn (\n\t\t<ul className=\"read-more__pagination\">\n\t\t\t{\n\t\t\t\tpages.map( ( page, index ) => {\n\t\t\t\t\treturn page === '...' ? (\n\t\t\t\t\t\t<li key={ 'dots-' + index }>…</li>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<li key={ page }>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\tvariant={ page === currentPage ? 'primary' : 'secondary' }\n\t\t\t\t\t\t\t\tonClick={ createHandlePaginationClick( page ) }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ page }\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t);\n\t\t\t\t} )\n\t\t\t}\n\t\t</ul>\n\t);\n}\n","import { useCallback } from '@wordpress/element';\nimport Pagination from './pagination';\nimport type { Post } from '../types';\n\ntype ReadMorePostsProps = {\n\tposts?: Array<Post>;\n\ttotalPages: number;\n\thandlePaginationClick: ( pageNumber: number ) => void;\n\tcurrentPage: number;\n\tselectPost: ( post: Post ) => void;\n\tselectedPostId: number;\n}\n\nexport function ReadMorePosts( {\n\tposts = [],\n\ttotalPages = 0,\n\thandlePaginationClick,\n\tcurrentPage = 1,\n\tselectPost,\n\tselectedPostId = 0,\n}: ReadMorePostsProps ) {\n\tif ( ! posts || posts.length === 0 ) {\n\t\treturn (\n\t\t\t<p>No posts found.</p>\n\t\t);\n\t}\n\n\tconst createPostClickHandler = useCallback(\n\t\t( post: Post ) => () => selectPost( post ),\n\t\t[ selectPost ]\n\t);\n\n\treturn (\n\t\t<>\n\t\t\t<ul>\n\t\t\t\t{\n\t\t\t\t\tposts.map( ( post: Post ) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\tkey={ post.id }\n\t\t\t\t\t\t\t\tonClick={ createPostClickHandler( post ) }\n\t\t\t\t\t\t\t\tclassName={ `read-more__post ${ post.id === selectedPostId ? 'read-more__post--selected' : '' }` }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ post.title.rendered }\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t);\n\t\t\t\t\t} )\n\t\t\t\t}\n\t\t\t</ul>\n\t\t\t<Pagination\n\t\t\t\ttotalPages={ totalPages }\n\t\t\t\thandlePaginationClick={ handlePaginationClick }\n\t\t\t\tcurrentPage={ currentPage }\n\t\t\t/>\n\t\t</>\n\t);\n}\n","import { InspectorControls } from '@wordpress/block-editor';\nimport {\n\tAnimate,\n\tButton,\n\tCheckboxControl,\n\tTextControl,\n\tPanelBody,\n\tPanelRow\n} from '@wordpress/components';\nimport { select } from '@wordpress/data';\nimport { useEntityRecords } from '@wordpress/core-data';\nimport { useCallback, useState } from '@wordpress/element';\nimport type { Post, SearchArgs } from '../types';\nimport { ReadMorePosts } from './read-more-posts';\nimport { KeyboardEvent } from 'react';\n\ntype ReadMoreProps = {\n\tselectPost: ( post: Post ) => void;\n\tselectedPostId: number;\n}\n\nexport default function ReadMore( { selectPost, selectedPostId }: ReadMoreProps ) {\n\n\tconst twoYearsAgo = new Date();\n\ttwoYearsAgo.setFullYear( twoYearsAgo.getFullYear() - 2 );\n\tconst twoYearsAgoISOPrefix = twoYearsAgo.toISOString().split( 'T' )[ 0 ];\n\tconst twoYearsAgoFormatted = twoYearsAgoISOPrefix + 'T00:00:00Z';\n\n\tconst baseSearchArgs: SearchArgs = {\n\t\t_fields: [ 'id', 'title', 'link' ],\n\t\tper_page: 10,\n\t\tsearch: '',\n\t\tafter: twoYearsAgoFormatted\n\t};\n\n\tconst currentPostId = select( 'core/editor' ).getCurrentPostId();\n\tif ( currentPostId ) baseSearchArgs.exclude = currentPostId;\n\n\tconst [ searchTerm, setSearchTerm ] = useState( '' );\n\tconst [ searchArgs, setSearchArgs ] = useState( baseSearchArgs );\n\tconst [ searchRecent, setSearchRecent ] = useState( true );\n\n\tlet postsResult = useEntityRecords(\n\t\t'postType',\n\t\t'post',\n\t\tsearchArgs\n\t);\n\n\tfunction setSearchOrIdArgs( searchTerm: string | number ) {\n\t\tconst newSearchArgs = { ...baseSearchArgs };\n\n\t\tif ( ! searchRecent ) {\n\t\t\tdelete newSearchArgs.after;\n\t\t}\n\n\t\tif ( searchTerm !== '' && Number.isInteger( Number( searchTerm ) ) ) {\n\t\t\tsetSearchArgs( { ...newSearchArgs, include: Number( searchTerm ) } );\n\t\t} else {\n\t\t\tsetSearchArgs( { ...newSearchArgs, search: searchTerm as string } );\n\t\t}\n\t}\n\n\tconst handleKeyDown = useCallback( ( e: KeyboardEvent<HTMLInputElement> ) => {\n\t\tif ( e.key === 'Enter' ) {\n\t\t\tsetSearchOrIdArgs( searchTerm );\n\t\t} else if ( e.key === 'Escape' ) {\n\t\t\tsetSearchTerm( '' );\n\t\t}\n\t}, [ searchTerm, setSearchOrIdArgs ] );\n\n\tconst handleSearchButtonClick = useCallback(\n\t\t() => {\n\t\t\tsetSearchOrIdArgs( searchTerm );\n\t\t},\n\t\t[ searchTerm, setSearchOrIdArgs ] );\n\n\tconst handlePaginationClick = useCallback(\n\t\t( pageNumber: number ) => {\n\t\t\tsetSearchArgs( { ...searchArgs, page: pageNumber } );\n\t\t},\n\t\t[ searchArgs ]\n\t);\n\n\tconst handleCheckboxChange = useCallback( () => {\n\t\tconst newSearchRecent = ! searchRecent;\n\t\tsetSearchRecent( newSearchRecent );\n\n\t\tconst updatedArgs = { ...searchArgs };\n\n\t\t// We always reset to page 1 when the filter is toggled.\n\t\tupdatedArgs.page = 1;\n\n\t\tif ( newSearchRecent ) {\n\t\t\tupdatedArgs.after = twoYearsAgoFormatted;\n\t\t} else {\n\t\t\tdelete updatedArgs.after;\n\t\t}\n\n\t\tsetSearchArgs( updatedArgs );\n\t}, [ searchRecent, searchArgs, twoYearsAgoFormatted ] );\n\n\tconst renderLoadingList = useCallback( ( { className } ) => (\n\t\t<div className={ className }>\n\t\t\t<ul>\n\t\t\t\t{ [ ...Array( 10 ) ].map( ( _, i ) => (\n\t\t\t\t\t<li key={ i } className=\"read-more__post\" />\n\t\t\t\t) ) }\n\t\t\t</ul>\n\t\t\t<ul className=\"read-more__pagination\" />\n\t\t</div>\n\t), [] );\n\n\treturn (\n\t\t<InspectorControls>\n\t\t\t<PanelBody>\n\t\t\t\t<PanelRow className=\"read-more__inputs\">\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\tonChange={ value => setSearchTerm( value ) }\n\t\t\t\t\t\tvalue={ searchTerm }\n\t\t\t\t\t\tclassName=\"read-more__search-input\"\n\t\t\t\t\t\thelp=\"Enter term or post ID and click Search button to find posts.\"\n\t\t\t\t\t\tonKeyDown={ handleKeyDown }\n\t\t\t\t\t/>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\tonClick={ handleSearchButtonClick }\n\t\t\t\t\t\ttext=\"Search\"\n\t\t\t\t\t\tisBusy={ postsResult?.isResolving }\n\t\t\t\t\t/>\n\t\t\t\t</PanelRow>\n\t\t\t\t<PanelRow className=\"read-more__checkbox\">\n\t\t\t\t\t<CheckboxControl\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\tchecked={ searchRecent }\n\t\t\t\t\t\tlabel=\"Search last two years only\"\n\t\t\t\t\t\tonChange={ handleCheckboxChange }\n\t\t\t\t\t/>\n\t\t\t\t</PanelRow>\n\t\t\t\t{\n\t\t\t\t\tpostsResult?.isResolving ? (\n\t\t\t\t\t\t<PanelRow className=\"read-more__posts read-more__posts--loading\">\n\t\t\t\t\t\t\t<Animate type=\"loading\">\n\t\t\t\t\t\t\t\t{ renderLoadingList }\n\t\t\t\t\t\t\t</Animate>\n\t\t\t\t\t\t</PanelRow>\n\t\t\t\t\t) : postsResult?.hasResolved ? (\n\t\t\t\t\t\t<PanelRow className=\"read-more__posts\">\n\t\t\t\t\t\t\t<ReadMorePosts\n\t\t\t\t\t\t\t\tposts={ postsResult?.records as Post[] }\n\t\t\t\t\t\t\t\ttotalPages={ postsResult.totalPages }\n\t\t\t\t\t\t\t\thandlePaginationClick={ handlePaginationClick }\n\t\t\t\t\t\t\t\tcurrentPage={ searchArgs?.page || 1 }\n\t\t\t\t\t\t\t\tselectPost={ selectPost }\n\t\t\t\t\t\t\t\tselectedPostId={ selectedPostId }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</PanelRow>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<PanelRow className=\"read-more__posts\">\n\t\t\t\t\t\t\t<p>Error finding posts.</p>\n\t\t\t\t\t\t</PanelRow>\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t</PanelBody>\n\t\t</InspectorControls>\n\t);\n\n}\n","import { useBlockProps } from '@wordpress/block-editor';\nimport { useCallback } from '@wordpress/element';\nimport ReadMore from './components/read-more';\nimport './editor.scss';\n\nfunction SelectedPost( { id, title, url } ) {\n\tif ( ! id ) {\n\t\treturn <p>DMG Read More – find a post using the form in the sidebar.</p>;\n\t}\n\n\treturn (\n\t\t<p className=\"dmg-read-more\">\n\t\t\t<span>Read More:</span> <a href={ url }>{ title ?? 'Untitled' }</a>\n\t\t</p>\n\t);\n}\n\nexport default function Edit( { attributes, setAttributes } ) {\n\tconst blockProps = useBlockProps();\n\n\tconst selectPost = useCallback( ( post ) => {\n\t\tsetAttributes( {\n\t\t\tpostId: post.id,\n\t\t\tpostTitle: post.title.rendered,\n\t\t\tpostUrl: post.link,\n\t\t} );\n\t}, [ setAttributes ] );\n\n\treturn (\n\t\t<div { ...blockProps }>\n\t\t\t<ReadMore selectPost={ selectPost } selectedPostId={ attributes?.postId } />\n\t\t\t<SelectedPost\n\t\t\t\tid={ attributes?.postId }\n\t\t\t\ttitle={ attributes?.postTitle }\n\t\t\t\turl={ attributes?.postUrl }\n\t\t\t/>\n\t\t</div>\n\t);\n}\n","// extracted by mini-css-extract-plugin\nexport {};","import { registerBlockType } from '@wordpress/blocks';\nimport './style.scss';\nimport Edit from './edit';\nimport metadata from './block.json';\n\nregisterBlockType( metadata.name, {\n\ticon: {\n\t\tsrc: <svg width=\"54\" height=\"54\" viewBox=\"0 0 54 54\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t\t<g id=\"circles\">\n\t\t\t\t<path id=\"Path\" fill=\"#9a4e9e\" stroke=\"none\" d=\"M 50.179993 14.270012 C 50.184052 18.072838 47.896378 21.503502 44.384155 22.961601 C 40.871948 24.419701 36.827194 23.617943 34.136734 20.930351 C 31.446289 18.24276 30.640228 14.198845 32.094574 10.685081 C 33.548935 7.171318 36.977142 4.879997 40.779999 4.879997 C 43.27211 4.877342 45.663071 5.865471 47.426193 7.626732 C 49.189331 9.387993 50.179993 11.777885 50.179993 14.270012 Z M 50.179993 40.580009 C 50.179993 45.771477 45.971481 49.980003 40.779999 49.980003 C 35.588516 49.980003 31.380005 45.771477 31.380005 40.580009 C 31.380005 35.388512 35.588516 31.179985 40.779999 31.179985 C 43.273849 31.17733 45.666321 32.166832 47.429733 33.93026 C 49.193161 35.693687 50.182663 38.086143 50.179993 40.580009 Z M 14.440002 23.670006 C 10.637146 23.674034 7.206497 21.386375 5.748413 17.874168 C 4.290314 14.361931 5.092072 10.317192 7.779663 7.626732 C 10.467255 4.936272 14.511139 4.130211 18.024918 5.584587 C 21.538681 7.038933 23.830002 10.467155 23.830002 14.270012 C 23.830002 19.457573 19.627563 23.664482 14.440002 23.670006 Z M 14.440002 49.969994 C 10.63623 49.974052 7.204956 47.685295 5.747452 44.171837 C 4.289948 40.658409 5.093536 36.612877 7.783203 33.92321 C 10.47287 31.233543 14.518402 30.429955 18.031845 31.887444 C 21.545288 33.344963 23.834045 36.776237 23.830002 40.580009 C 23.830002 45.765953 19.625946 49.969994 14.440002 49.969994 Z\" />\n\t\t\t</g>\n\t\t</svg>\n\t},\n\tedit: Edit,\n} );\n","// extracted by mini-css-extract-plugin\nexport {};","module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"blocks\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"coreData\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"ReactJSXRuntime\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t\"dmg-read-more/index\": 0,\n\t\"dmg-read-more/style-index\": 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = globalThis[\"webpackChunkdmg_read_more\"] = globalThis[\"webpackChunkdmg_read_more\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [\"dmg-read-more/style-index\"], () => (__webpack_require__(\"./src/dmg-read-more/index.js\")))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n",""],"names":["Button","useCallback","jsx","_jsx","getPagination","currentPage","total","delta","range","rangeWithDots","lastPageInRange","i","push","Pagination","totalPages","handlePaginationClick","pages","createHandlePaginationClick","page","className","children","map","index","size","variant","onClick","Fragment","_Fragment","jsxs","_jsxs","ReadMorePosts","posts","selectPost","selectedPostId","length","createPostClickHandler","post","id","title","rendered","InspectorControls","Animate","CheckboxControl","TextControl","PanelBody","PanelRow","select","useEntityRecords","useState","ReadMore","twoYearsAgo","Date","setFullYear","getFullYear","twoYearsAgoISOPrefix","toISOString","split","twoYearsAgoFormatted","baseSearchArgs","_fields","per_page","search","after","currentPostId","getCurrentPostId","exclude","searchTerm","setSearchTerm","searchArgs","setSearchArgs","searchRecent","setSearchRecent","postsResult","setSearchOrIdArgs","newSearchArgs","Number","isInteger","include","handleKeyDown","e","key","handleSearchButtonClick","pageNumber","handleCheckboxChange","newSearchRecent","updatedArgs","renderLoadingList","Array","_","onChange","value","help","onKeyDown","text","isBusy","isResolving","__nextHasNoMarginBottom","checked","label","type","hasResolved","records","useBlockProps","SelectedPost","url","href","Edit","attributes","setAttributes","blockProps","postId","postTitle","postUrl","link","registerBlockType","metadata","name","icon","src","width","height","viewBox","xmlns","fill","stroke","d","edit"],"sourceRoot":""}